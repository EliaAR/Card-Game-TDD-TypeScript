(this["webpackJsonpkill-9-game-typescript"]=this["webpackJsonpkill-9-game-typescript"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(5),r=a.n(s),i=(a(12),a(2)),l=a(3),o=(a(13),a(0));function m(e){var t=e.level;return Object(o.jsx)("section",{className:"header",children:Object(o.jsxs)("h1",{className:"header__title",children:["Mazmorra ",t]})})}a(15);function d(e){var t=e.name,a=e.srcImg,n=e.life,c=e.maxLife,s=e.strength,r=e.dexterity;return Object(o.jsxs)("article",{"data-testid":"playerSection",className:"player",children:[Object(o.jsx)("h2",{className:"player__category",children:"Jugadora"}),Object(o.jsxs)("div",{className:"player__container",children:[Object(o.jsxs)("article",{children:[Object(o.jsx)("p",{className:"player__name",children:t}),Object(o.jsx)("img",{src:a,alt:"Imagen ".concat(t),title:t,className:"player__image"})]}),Object(o.jsxs)("article",{className:"player__statsContainer",children:[Object(o.jsxs)("p",{children:["Vida: ",n," / ",c," "]}),Object(o.jsxs)("p",{children:["Fuerza: ",s," "]}),Object(o.jsxs)("p",{children:["Destreza: ",r," "]})]})]})]})}a(16);function j(e){var t=e.onClickEnemy,a=e.name,n=e.srcImg,c=e.life,s=e.maxLife,r=e.strength,i=e.dexterity,l=e.level;return Object(o.jsxs)("article",{onClick:t,role:"button","aria-label":a,className:"enemy",children:[Object(o.jsx)("h2",{className:"enemy__category enemy__category--level".concat(l),children:"Enemigo"}),Object(o.jsxs)("div",{className:"enemy__container enemy__container--level".concat(l),children:[Object(o.jsxs)("article",{children:[Object(o.jsx)("p",{className:"enemy__name enemy__name--level".concat(l),children:a}),Object(o.jsx)("img",{src:n,alt:"Imagen ".concat(a),title:a,className:"enemy__image"})]}),Object(o.jsxs)("article",{className:"enemy__statsContainer",children:[Object(o.jsxs)("p",{className:"enemy__statsLife",children:["Vida: ",c," / ",s]}),Object(o.jsxs)("p",{children:["Fuerza: ",r," "]}),Object(o.jsxs)("p",{children:["Destreza: ",i," "]})]})]})]})}function u(){return Math.floor(20*Math.random()+1)}function b(){return Math.floor(4*Math.random()+1)}function p(e){return Math.floor((e-10)/2)}function h(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,c=p(e),s=p(t),r=a()+c,i=10+s;return r>=i?n()+c:0}a(17);function g(e){var t=e.messages,a=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e;a.current&&a.current.scrollIntoView&&(null===(e=a.current)||void 0===e||e.scrollIntoView())})),Object(o.jsxs)("section",{role:"log",className:"combatLog",children:[Object(o.jsx)("h3",{className:"combatLog__title",children:"Registro de combate"}),t.length?Object(o.jsx)("ul",{children:t.map((function(e,t,n){return Object(o.jsx)("li",{className:"combatLog__msg combatLog__msg--".concat(e.type),ref:n.length-1===t?a:void 0,children:e.text},t)}))}):Object(o.jsx)("p",{children:"No hay entradas en el registro"})]})}a(18);var x=document.createElement("div");function O(e){var t=e.onCloseModal,a=e.children;return r.a.createPortal(Object(o.jsx)("div",{onClick:t,"data-testid":"modal-overlay",className:"modal",children:Object(o.jsxs)("div",{onClick:function(e){return e.stopPropagation()},className:"modal__container",children:[a,Object(o.jsx)("div",{onClick:t,role:"button","aria-label":"cerrar",className:"modal__button",children:Object(o.jsx)("i",{className:"fas fa-times-circle"})})]})}),x)}x.setAttribute("id","modal-root"),document.body.appendChild(x);a(19);function f(e){var t=e.enemy,a=e.player,c=e.level,s=e.onCombatFinish,r=e.mockRoll20Enemy,u=e.mockRoll4Enemy,b=e.mockRoll20Player,p=e.mockRoll4Player,x=Object(n.useState)(t.life),f=Object(i.a)(x,2),_=f[0],y=f[1],N=Object(n.useState)([]),v=Object(i.a)(N,2),k=v[0],A=v[1],C=Object(n.useState)(a.life),I=Object(i.a)(C,2),E=I[0],w=I[1],L=Object(n.useState)(!1),R=Object(i.a)(L,2),S=R[0],P=R[1],H=Object(n.useState)(1===c),M=Object(i.a)(H,2),T=M[0],F=M[1];return Object(n.useEffect)((function(){if(S){var e=h(t.strength,a.dexterity,b,p),n=E-e;w(n>0?n:0),e?(A([].concat(Object(l.a)(k),[{text:"Turno del enemigo",type:"enemyTurn"},{text:"Ataque exitoso del enemigo, ".concat(e," puntos de da\xf1o"),type:"attack"}])),P(!1)):(A([].concat(Object(l.a)(k),[{text:"Turno del enemigo",type:"enemyTurn"},{text:"Ataque fallido del enemigo",type:"attack"}])),P(!1))}else A([].concat(Object(l.a)(k),[{text:"Turno del jugador",type:"playerTurn"}]))}),[S]),Object(n.useEffect)((function(){E||s("lose"),_||s("win")}),[E,_,s]),Object(o.jsxs)(o.Fragment,{children:[T?Object(o.jsx)(O,{onCloseModal:function(){return F(!1)},children:Object(o.jsx)("p",{className:"modalParagraph",children:"Haz click en la carta del enemigo para atacarlo"})}):null,Object(o.jsx)(m,{level:c}),Object(o.jsxs)("main",{className:"main main--background".concat(c),children:[Object(o.jsxs)("section",{className:"main__charactersContainer",children:[Object(o.jsx)(j,{onClickEnemy:function(){var e=h(a.strength,t.dexterity,r,u),n=_-e;y(n>0?n:0),A([].concat(Object(l.a)(k),e?[{text:"Ataque exitoso del jugador, ".concat(e," puntos de da\xf1o"),type:"attack"}]:[{text:"Ataque fallido del jugador",type:"attack"}])),P(!0)},name:t.name,srcImg:t.srcImg,life:_,maxLife:t.life,strength:t.strength,dexterity:t.dexterity,level:c}),Object(o.jsx)(d,{name:a.name,srcImg:a.srcImg,life:E,maxLife:a.life,strength:a.strength,dexterity:a.dexterity})]}),Object(o.jsx)("section",{className:"main__combatlogContainer",children:Object(o.jsx)(g,{messages:k})})]})]})}a(20);function _(e){var t=e.onClickStart;return Object(o.jsxs)("main",{className:"mainHomepage",children:[Object(o.jsxs)("section",{className:"mainHomepage__text",children:[Object(o.jsx)("p",{className:"mainHomepage__gameTitle",children:"Truthy, The Card Game"}),Object(o.jsx)("p",{className:"mainHomepage__gameCompany",children:"Andar x Casa Productions\xae"}),Object(o.jsx)("p",{className:"mainHomepage__gameSubtitle",children:"El juego de cartas donde podr\xe1s combatir con los verdaderos h\xe9roes que luchan contra sus opresores"})]}),Object(o.jsx)("section",{children:Object(o.jsx)("button",{onClick:t,className:"mainHomepage__button",children:"Nueva partida"})})]})}var y=a.p+"static/media/Aleksandra.c3b26d86.png",N=[{name:"Francesco",srcImg:a.p+"static/media/Gnome.27363843.png",life:20,strength:15,dexterity:14},{name:"Sam",srcImg:a.p+"static/media/Human.3e173381.png",life:32,strength:12,dexterity:14},{name:"Agusto",srcImg:a.p+"static/media/Dwarf.d144af21.png",life:42,strength:15,dexterity:15},{name:"Christoff",srcImg:a.p+"static/media/Elf.3169e275.png",life:57,strength:17,dexterity:16}],v=[{name:"Aleks\xe1ndra",srcImg:y,life:14,strength:18,dexterity:14},{name:"Aleks\xe1ndra",srcImg:y,life:23,strength:18,dexterity:14},{name:"Aleks\xe1ndra",srcImg:y,life:32,strength:18,dexterity:14},{name:"Aleks\xe1ndra",srcImg:y,life:45,strength:18,dexterity:14}];a(21);function k(e){var t=e.mockRoll20Enemy,a=e.mockRoll4Enemy,c=e.mockRoll20Player,s=e.mockRoll4Player,r=e.mockEnemy,l=e.mockPlayer,m=Object(n.useState)("start-screen"),d=Object(i.a)(m,2),j=d[0],u=d[1],b=Object(n.useState)(1),p=Object(i.a)(b,2),h=p[0],g=p[1];return"win-battle"===j?Object(o.jsxs)("main",{className:"mainApp mainAppWinB",children:[Object(o.jsx)("p",{className:"mainAppWinB__resultMsg",children:"Victoria!!"}),Object(o.jsxs)("p",{className:"mainAppWinB__text",children:["Has alcanzado el nivel"," ",Object(o.jsx)("span",{className:"mainAppWinB__level",children:h})]}),Object(o.jsx)("button",{onClick:function(){return u("battle")},className:"mainApp__button",children:"Continuar jugando"})]}):"lose"===j?Object(o.jsxs)("main",{className:"mainApp mainAppLose",children:[Object(o.jsx)("p",{className:"mainAppLose__resultMsg",children:"Has perdido \ud83d\ude22"}),Object(o.jsx)("button",{onClick:function(){return u("battle")},className:"mainApp__button mainAppLose__button",children:"Intentarlo de nuevo"})]}):"win-game"===j?Object(o.jsxs)("main",{className:"mainApp mainAppWinG",children:[Object(o.jsxs)("div",{className:"mainAppWinG__fireworks",children:[Object(o.jsx)("div",{className:"mainAppWinG__fireworks--before"}),Object(o.jsx)("div",{className:"mainAppWinG__fireworks--after"})]}),Object(o.jsx)("p",{className:"mainAppWinG__text",children:"Has completado el juego!!"}),Object(o.jsx)("button",{onClick:function(){return u("battle")},className:"mainApp__button mainAppWinG__button",children:"Volver a jugar"})]}):"battle"===j?Object(o.jsx)(f,{enemy:r?r[h-1]:N[h-1],player:l?l[h-1]:v[h-1],level:h,onCombatFinish:function(e){"win"===e&&h<4?(u("win-battle"),g(h+1)):"win"===e&&4===h?(u("win-game"),g(1)):u("lose")},mockRoll20Enemy:t,mockRoll4Enemy:a,mockRoll20Player:c,mockRoll4Player:s}):Object(o.jsx)(_,{onClickStart:function(){return u("battle")}})}var A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,23)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(k,{})}),document.getElementById("root")),A()}],[[22,1,2]]]);
//# sourceMappingURL=main.a0671c0b.chunk.js.map