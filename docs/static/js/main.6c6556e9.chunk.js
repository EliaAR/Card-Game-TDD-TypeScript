(this["webpackJsonpkill-9-game-typescript"]=this["webpackJsonpkill-9-game-typescript"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(5),i=a.n(s),l=(a(12),a(2)),r=a(3),o=(a(13),a(0));function m(e){var t=e.level;return Object(o.jsx)("section",{className:"header",children:Object(o.jsxs)("h1",{className:"header__title",children:["Mazmorra ",t]})})}a(15);function d(e){var t=e.onClickEnemy,a=e.name,n=e.srcImg,c=e.life,s=e.maxLife,i=e.strength,l=e.dexterity,r=e.level;return Object(o.jsxs)("article",{onClick:t,role:"button","aria-label":a,className:"enemy",children:[Object(o.jsx)("h2",{className:"enemy__category enemy__category--level".concat(r),children:"Enemigo"}),Object(o.jsxs)("div",{className:"enemy__container enemy__container--level".concat(r),children:[Object(o.jsxs)("article",{children:[Object(o.jsx)("p",{className:"enemy__name enemy__name--level".concat(r),children:a}),Object(o.jsx)("img",{src:n,alt:"Imagen ".concat(a),title:a,className:"enemy__image"})]}),Object(o.jsxs)("article",{className:"enemy__statsContainer",children:[Object(o.jsxs)("p",{children:["Vida: ",c," / ",s]}),Object(o.jsxs)("p",{children:["Fuerza: ",i," "]}),Object(o.jsxs)("p",{children:["Destreza: ",l," "]})]})]})]})}a(16);function j(e){var t=e.name,a=e.srcImg,n=e.life,c=e.maxLife,s=e.strength,i=e.dexterity;return Object(o.jsxs)("article",{"data-testid":"playerSection",className:"player",children:[Object(o.jsx)("h2",{className:"player__category",children:"Jugadora"}),Object(o.jsxs)("div",{className:"player__container",children:[Object(o.jsxs)("article",{children:[Object(o.jsx)("p",{className:"player__name",children:t}),Object(o.jsx)("img",{src:a,alt:"Imagen ".concat(t),title:t,className:"player__image"})]}),Object(o.jsxs)("article",{className:"player__statsContainer",children:[Object(o.jsxs)("p",{children:["Vida: ",n," / ",c," "]}),Object(o.jsxs)("p",{children:["Fuerza: ",s," "]}),Object(o.jsxs)("p",{children:["Destreza: ",i," "]})]})]})]})}a(17);function u(e){var t=e.onClickConsumable,a=e.name,n=e.srcImg,c=e.number,s=e.consumableDisabled;return Object(o.jsxs)("section",{role:"button","aria-label":a,onClick:s?void 0:t,"aria-disabled":s,className:"consumable",children:[Object(o.jsx)("p",{className:"consumable__name",children:a}),Object(o.jsxs)("div",{className:"consumable__details",children:[Object(o.jsx)("img",{src:n,alt:"Imagen ".concat(a),className:"consumable__img"}),Object(o.jsxs)("p",{className:"consumable__number",children:["N\xba ",c]})]})]})}function b(){return Math.floor(20*Math.random()+1)}function p(){return Math.floor(4*Math.random()+1)}function h(e){return Math.floor((e-10)/2)}function g(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p,c=h(e),s=h(t),i=a(),l=n(),r=i+c,o=10+s;return r>=o?{damage:l+c,resultD20:i,resultD4:l}:{damage:0,resultD20:i,resultD4:l}}a(18);function x(e){var t=e.messages,a=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e;a.current&&a.current.scrollIntoView&&(null===(e=a.current)||void 0===e||e.scrollIntoView())})),Object(o.jsxs)("section",{role:"log",className:"combatLog",children:[Object(o.jsx)("h3",{className:"combatLog__title",children:"Registro de combate"}),t.length?Object(o.jsx)("ul",{children:t.map((function(e,t,n){return Object(o.jsx)("li",{className:"combatLog__msg combatLog__msg--".concat(e.type),ref:n.length-1===t?a:void 0,children:e.text},t)}))}):Object(o.jsx)("p",{children:"No hay entradas en el registro"})]})}a(19);var O=document.createElement("div");function f(e){var t=e.onCloseModal,a=e.children;return i.a.createPortal(Object(o.jsx)("div",{onClick:t,"data-testid":"modal-overlay",className:"modal",children:Object(o.jsxs)("div",{onClick:function(e){return e.stopPropagation()},className:"modal__container",children:[a,Object(o.jsx)("div",{onClick:t,role:"button","aria-label":"cerrar",className:"modal__button",children:Object(o.jsx)("i",{className:"fas fa-times-circle"})})]})}),O)}O.setAttribute("id","modal-root"),document.body.appendChild(O);a(20);function _(e){var t=e.enemy,a=e.player,c=e.level,s=e.healthPotion,i=e.currentAmountPotions,b=e.setCurrentAmountPotions,p=e.onCombatFinish,h=e.mockRoll20Enemy,O=e.mockRoll4Enemy,_=e.mockRoll20Player,y=e.mockRoll4Player,v=Object(n.useState)(t.life),N=Object(l.a)(v,2),k=N[0],C=N[1],A=Object(n.useState)([]),I=Object(l.a)(A,2),P=I[0],D=I[1],E=Object(n.useState)(a.life),L=Object(l.a)(E,2),w=L[0],S=L[1],R=Object(n.useState)(!1),T=Object(l.a)(R,2),z=T[0],H=T[1],M=Object(n.useState)(1===c),F=Object(l.a)(M,2),W=F[0],G=F[1];return Object(n.useEffect)((function(){if(z){var e=g(t.strength,a.dexterity,_,y),n=e.damage,c=e.resultD20,s=e.resultD4,i=w-n;S(i>0?i:0),n?(D([].concat(Object(r.a)(P),[{text:"Turno del enemigo",type:"enemyTurn"},{text:"Enemigo lanza D20 y saca ".concat(c,". Ataque exitoso del enemigo"),type:"attack"},{text:"Enemigo lanza D4 y saca ".concat(s,". ").concat(n," puntos de da\xf1o"),type:"attack"}])),H(!1)):(D([].concat(Object(r.a)(P),[{text:"Turno del enemigo",type:"enemyTurn"},{text:"Enemigo lanza D20 y saca ".concat(c,". Ataque fallido del enemigo"),type:"attack"}])),H(!1))}else D([].concat(Object(r.a)(P),[{text:"Tu turno",type:"playerTurn"}]))}),[z]),Object(n.useEffect)((function(){w||p("lose"),k||p("win")}),[w,k,p]),Object(o.jsxs)(o.Fragment,{children:[W?Object(o.jsx)(f,{onCloseModal:function(){return G(!1)},children:Object(o.jsx)("p",{className:"modalParagraph",children:"Haz click en la carta del enemigo para atacarlo"})}):null,Object(o.jsx)(m,{level:c}),Object(o.jsxs)("main",{className:"main main--background".concat(c),children:[Object(o.jsxs)("section",{className:"main__charactersContainer",children:[Object(o.jsx)(d,{onClickEnemy:function(){var e=g(a.strength,t.dexterity,h,O),n=e.damage,c=e.resultD20,s=e.resultD4,i=k-n;C(i>0?i:0),D([].concat(Object(r.a)(P),n?[{text:"Lanzas D20 y sacas ".concat(c,". Tu ataque es exitoso!"),type:"attack"},{text:"Lanzas D4 y sacas ".concat(s,". ").concat(n," puntos de da\xf1o!"),type:"attack"}]:[{text:"Lanzas D20 y sacas ".concat(c,". Tu ataque falla"),type:"attack"}])),H(!0)},name:t.name,srcImg:t.srcImg,life:k,maxLife:t.life,strength:t.strength,dexterity:t.dexterity,level:c}),Object(o.jsx)(j,{name:a.name,srcImg:a.srcImg,life:w,maxLife:a.life,strength:a.strength,dexterity:a.dexterity}),Object(o.jsx)(u,{onClickConsumable:function(){if(w<a.life)if(w<=a.life-10)S(w+10),D([].concat(Object(r.a)(P),[{text:"Usas poti de vida \u2192 +10 puntos de vida",type:"consumable"}]));else{var e=a.life-w;S(w+e),D([].concat(Object(r.a)(P),[{text:"Usas poti de vida \u2192 ".concat(e," puntos de vida"),type:"consumable"}]))}else S(w),D([].concat(Object(r.a)(P),[{text:"Tienes demasiada vida para usar poti",type:"consumable"}]));i>0&&i<=3?(b(i-1),H(!0)):b(i)},name:s.name,srcImg:s.srcImg,number:i,consumableDisabled:0===i})]}),Object(o.jsx)("section",{className:"main__combatlogContainer",children:Object(o.jsx)(x,{messages:P})})]})]})}a(21);function y(e){var t=e.onClickStart;return Object(o.jsxs)("main",{className:"mainHomepage",children:[Object(o.jsxs)("section",{className:"mainHomepage__text",children:[Object(o.jsx)("p",{className:"mainHomepage__gameTitle",children:"Truthy, The Card Game"}),Object(o.jsx)("p",{className:"mainHomepage__gameCompany",children:"Andar x Casa Productions\xae"}),Object(o.jsx)("p",{className:"mainHomepage__gameSubtitle",children:"El juego de cartas donde podr\xe1s combatir con los verdaderos h\xe9roes que luchan contra sus opresores"})]}),Object(o.jsx)("section",{children:Object(o.jsx)("button",{onClick:t,className:"mainHomepage__button",children:"Nueva partida"})})]})}var v=a.p+"static/media/Aleksandra.c3b26d86.png",N=[{name:"Francesco",srcImg:a.p+"static/media/Gnome.27363843.png",life:20,strength:15,dexterity:14},{name:"Sam",srcImg:a.p+"static/media/Human.3e173381.png",life:32,strength:12,dexterity:14},{name:"Agusto",srcImg:a.p+"static/media/Dwarf.d144af21.png",life:42,strength:15,dexterity:15},{name:"Christoff",srcImg:a.p+"static/media/Elf.3169e275.png",life:57,strength:17,dexterity:16}],k=[{name:"Aleks\xe1ndra",srcImg:v,life:14,strength:18,dexterity:14},{name:"Aleks\xe1ndra",srcImg:v,life:23,strength:18,dexterity:14},{name:"Aleks\xe1ndra",srcImg:v,life:32,strength:18,dexterity:14},{name:"Aleks\xe1ndra",srcImg:v,life:45,strength:18,dexterity:14}],C=(a(22),{name:"poci\xf3n salud",number:2,srcImg:a.p+"static/media/heathPotion.c70a87db.png"});function A(e){var t=e.mockRoll20Enemy,a=e.mockRoll4Enemy,c=e.mockRoll20Player,s=e.mockRoll4Player,i=e.mockEnemy,r=e.mockPlayer,m=e.mockHealthPotion,d=Object(n.useState)("start-screen"),j=Object(l.a)(d,2),u=j[0],b=j[1],p=Object(n.useState)(1),h=Object(l.a)(p,2),g=h[0],x=h[1],O=Object(n.useState)(3),f=Object(l.a)(O,2),v=f[0],A=f[1];return"win-battle"===u?Object(o.jsxs)("main",{className:"mainApp mainAppWinB",children:[Object(o.jsx)("p",{className:"mainAppWinB__resultMsg",children:"Victoria!!"}),Object(o.jsxs)("p",{className:"mainAppWinB__text",children:["Has alcanzado el nivel"," ",Object(o.jsx)("span",{className:"mainAppWinB__level",children:g})]}),Object(o.jsx)("button",{onClick:function(){return b("battle")},className:"mainApp__button",children:"Continuar jugando"})]}):"lose"===u?Object(o.jsxs)("main",{className:"mainApp mainAppLose",children:[Object(o.jsx)("p",{className:"mainAppLose__resultMsg",children:"Has perdido \ud83d\ude22"}),Object(o.jsx)("button",{onClick:function(){return b("battle")},className:"mainApp__button mainAppLose__button",children:"Intentarlo de nuevo"})]}):"win-game"===u?Object(o.jsxs)("main",{className:"mainApp mainAppWinG",children:[Object(o.jsxs)("div",{className:"mainAppWinG__fireworks",children:[Object(o.jsx)("div",{className:"mainAppWinG__fireworks--before"}),Object(o.jsx)("div",{className:"mainAppWinG__fireworks--after"})]}),Object(o.jsx)("p",{className:"mainAppWinG__text",children:"Has completado el juego!!"}),Object(o.jsx)("button",{onClick:function(){return b("battle")},className:"mainApp__button mainAppWinG__button",children:"Volver a jugar"})]}):"battle"===u?Object(o.jsx)(_,{enemy:i?i[g-1]:N[g-1],player:r?r[g-1]:k[g-1],level:g,healthPotion:m||C,currentAmountPotions:v,setCurrentAmountPotions:A,onCombatFinish:function(e){"win"===e&&g<4?(b("win-battle"),x(g+1)):"win"===e&&4===g?(b("win-game"),x(1)):b("lose")},mockRoll20Enemy:t,mockRoll4Enemy:a,mockRoll20Player:c,mockRoll4Player:s}):Object(o.jsx)(y,{onClickStart:function(){return b("battle")}})}var I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(A,{})}),document.getElementById("root")),I()}],[[23,1,2]]]);
//# sourceMappingURL=main.6c6556e9.chunk.js.map