(this["webpackJsonpkill-9-game-typescript"]=this["webpackJsonpkill-9-game-typescript"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(5),i=a.n(s),r=(a(12),a(2)),l=a(3),o=(a(13),a(0));function m(e){var t=e.level;return Object(o.jsx)("section",{className:"header",children:Object(o.jsxs)("h1",{className:"header__title",children:["Mazmorra ",t]})})}a(15);function d(e){var t=e.onClickEnemy,a=e.name,n=e.srcImg,c=e.life,s=e.maxLife,i=e.strength,r=e.dexterity,l=e.level;return Object(o.jsxs)("article",{onClick:t,role:"button","aria-label":a,className:"enemy",children:[Object(o.jsx)("h2",{className:"enemy__category enemy__category--level".concat(l),children:"Enemigo"}),Object(o.jsxs)("div",{className:"enemy__container enemy__container--level".concat(l),children:[Object(o.jsxs)("article",{children:[Object(o.jsx)("p",{className:"enemy__name enemy__name--level".concat(l),children:a}),Object(o.jsx)("img",{src:n,alt:"Imagen ".concat(a),title:a,className:"enemy__image"})]}),Object(o.jsxs)("article",{className:"enemy__statsContainer",children:[Object(o.jsxs)("p",{children:["Vida: ",c," / ",s]}),Object(o.jsxs)("p",{children:["Fuerza: ",i," "]}),Object(o.jsxs)("p",{children:["Destreza: ",r," "]})]})]})]})}a(16);function u(e){var t=e.name,a=e.srcImg,n=e.life,c=e.maxLife,s=e.strength,i=e.dexterity;return Object(o.jsxs)("article",{"data-testid":"playerSection",className:"player",children:[Object(o.jsx)("h2",{className:"player__category",children:"Jugadora"}),Object(o.jsxs)("div",{className:"player__container",children:[Object(o.jsxs)("article",{children:[Object(o.jsx)("p",{className:"player__name",children:t}),Object(o.jsx)("img",{src:a,alt:"Imagen ".concat(t),title:t,className:"player__image"})]}),Object(o.jsxs)("article",{className:"player__statsContainer",children:[Object(o.jsxs)("p",{children:["Vida: ",n," / ",c," "]}),Object(o.jsxs)("p",{children:["Fuerza: ",s," "]}),Object(o.jsxs)("p",{children:["Destreza: ",i," "]})]})]})]})}a(17);function j(e){var t=e.onClickConsumable,a=e.name,n=e.srcImg,c=e.number,s=e.consumableDisabled;return Object(o.jsxs)("section",{role:"button","aria-label":a,onClick:s?void 0:t,"aria-disabled":s,className:"consumable",children:[Object(o.jsx)("p",{className:"consumable__name",children:a}),Object(o.jsxs)("div",{className:"consumable__details",children:[Object(o.jsx)("img",{src:n,alt:"Imagen ".concat(a),className:"consumable__img"}),Object(o.jsxs)("p",{className:"consumable__number",children:["N\xba ",c]})]})]})}function b(){return Math.floor(20*Math.random()+1)}function p(){return Math.floor(4*Math.random()+1)}function h(e){return Math.floor((e-10)/2)}function x(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p,c=h(e),s=h(t),i=a(),r=n(),l=i+c,o=10+s;return l>=o?{damage:r+c,resultD20:i,resultD4:r,strengthModifier:c,dexterityModifier:s}:{damage:0,resultD20:i,resultD4:r,strengthModifier:c,dexterityModifier:s}}a(18);function g(e){var t=e.messages,a=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e;a.current&&a.current.scrollIntoView&&(null===(e=a.current)||void 0===e||e.scrollIntoView())})),Object(o.jsxs)("section",{role:"log",className:"combatLog",children:[Object(o.jsx)("h3",{className:"combatLog__title",children:"Registro de combate"}),t.length?Object(o.jsx)("ul",{children:t.map((function(e,t,n){return Object(o.jsx)("li",{className:"combatLog__msg combatLog__msg--".concat(e.type),ref:n.length-1===t?a:void 0,children:e.text},t)}))}):Object(o.jsx)("p",{children:"No hay entradas en el registro"})]})}a(19);var f=document.createElement("div");function O(e){var t=e.onCloseModal,a=e.children;return i.a.createPortal(Object(o.jsx)("div",{onClick:t,"data-testid":"modal-overlay",className:"modal",children:Object(o.jsxs)("div",{onClick:function(e){return e.stopPropagation()},className:"modal__container",children:[a,Object(o.jsx)("div",{onClick:t,role:"button","aria-label":"cerrar",className:"modal__button",children:Object(o.jsx)("i",{className:"fas fa-times-circle"})})]})}),f)}f.setAttribute("id","modal-root"),document.body.appendChild(f);a(20);function _(e){var t=e.enemy,a=e.player,c=e.level,s=e.healthPotion,i=e.currentAmountPotions,b=e.setCurrentAmountPotions,p=e.onCombatFinish,h=e.mockRoll20Enemy,f=e.mockRoll4Enemy,_=e.mockRoll20Player,y=e.mockRoll4Player,v=Object(n.useState)(t.life),N=Object(r.a)(v,2),k=N[0],C=N[1],A=Object(n.useState)([]),I=Object(r.a)(A,2),P=I[0],T=I[1],M=Object(n.useState)(a.life),E=Object(r.a)(M,2),w=E[0],S=E[1],D=Object(n.useState)(!1),R=Object(r.a)(D,2),H=R[0],L=R[1],F=Object(n.useState)(1===c),W=Object(r.a)(F,2),q=W[0],G=W[1];return Object(n.useEffect)((function(){if(H){var e=x(t.strength,a.dexterity,_,y),n=e.damage,c=e.resultD20,s=e.resultD4,i=e.strengthModifier,r=e.dexterityModifier,o=w-n;S(o>0?o:0),n?(T([].concat(Object(l.a)(P),[{text:"Turno del enemigo",type:"enemyTurn"},{text:"- Tirada ataque: ".concat(c," + ").concat(i,". Ataque exitoso del enemigo"),type:"attack"},{text:"- Tirada da\xf1o: ".concat(s," + ").concat(r,". Te hace ").concat(n," puntos de da\xf1o"),type:"attack"}])),L(!1)):(T([].concat(Object(l.a)(P),[{text:"Turno del enemigo",type:"enemyTurn"},{text:"- Tirada ataque: ".concat(c," + ").concat(i,". Ataque fallido del enemigo"),type:"attack"}])),L(!1))}else T([].concat(Object(l.a)(P),[{text:"Tu turno",type:"playerTurn"}]))}),[H]),Object(n.useEffect)((function(){w||p("lose"),k||p("win")}),[w,k,p]),Object(o.jsxs)(o.Fragment,{children:[q?Object(o.jsx)(O,{onCloseModal:function(){return G(!1)},children:Object(o.jsx)("p",{className:"modalParagraph",children:"Haz click en la carta del enemigo para atacarlo"})}):null,Object(o.jsx)(m,{level:c}),Object(o.jsxs)("main",{className:"main main--background".concat(c),children:[Object(o.jsxs)("section",{className:"main__charactersContainer",children:[Object(o.jsx)(d,{onClickEnemy:function(){var e=x(a.strength,t.dexterity,h,f),n=e.damage,c=e.resultD20,s=e.resultD4,i=e.strengthModifier,r=e.dexterityModifier,o=k-n;C(o>0?o:0),T([].concat(Object(l.a)(P),n?[{text:"- Tirada ataque: ".concat(c," + ").concat(i,". Tu ataque es exitoso!"),type:"attack"},{text:"- Tirada da\xf1o: ".concat(s," + ").concat(r,". Haces ").concat(n," puntos de da\xf1o!"),type:"attack"}]:[{text:"- Tirada ataque: ".concat(c," + ").concat(i,". Tu ataque falla"),type:"attack"}])),L(!0)},name:t.name,srcImg:t.srcImg,life:k,maxLife:t.life,strength:t.strength,dexterity:t.dexterity,level:c}),Object(o.jsx)(u,{name:a.name,srcImg:a.srcImg,life:w,maxLife:a.life,strength:a.strength,dexterity:a.dexterity}),Object(o.jsx)(j,{onClickConsumable:function(){if(w<a.life)if(w<=a.life-10)S(w+10),T([].concat(Object(l.a)(P),[{text:"- Usas poti de vida \u2192 +10 puntos de vida",type:"consumable"}]));else{var e=a.life-w;S(w+e),T([].concat(Object(l.a)(P),[{text:"- Usas poti de vida \u2192 ".concat(e," puntos de vida"),type:"consumable"}]))}else S(w),T([].concat(Object(l.a)(P),[{text:"- Tienes demasiada vida para usar poti",type:"consumable"}]));i>0&&i<=3?(b(i-1),L(!0)):b(i)},name:s.name,srcImg:s.srcImg,number:i,consumableDisabled:0===i})]}),Object(o.jsx)("section",{className:"main__combatlogContainer",children:Object(o.jsx)(g,{messages:P})})]})]})}a(21);function y(e){var t=e.onClickStart;return Object(o.jsxs)("main",{className:"mainHomepage",children:[Object(o.jsxs)("section",{className:"mainHomepage__text",children:[Object(o.jsx)("p",{className:"mainHomepage__gameTitle",children:"Truthy, The Card Game"}),Object(o.jsx)("p",{className:"mainHomepage__gameCompany",children:"Andar x Casa Productions\xae"}),Object(o.jsx)("p",{className:"mainHomepage__gameSubtitle",children:"El juego de cartas donde podr\xe1s combatir con los verdaderos h\xe9roes que luchan contra sus opresores"})]}),Object(o.jsx)("section",{children:Object(o.jsx)("button",{onClick:t,className:"mainHomepage__button",children:"Nueva partida"})})]})}var v=a.p+"static/media/Aleksandra.c3b26d86.png",N=[{name:"Francesco",srcImg:a.p+"static/media/Gnome.27363843.png",life:20,strength:15,dexterity:14},{name:"Sam",srcImg:a.p+"static/media/Human.3e173381.png",life:32,strength:12,dexterity:14},{name:"Agusto",srcImg:a.p+"static/media/Dwarf.d144af21.png",life:42,strength:15,dexterity:15},{name:"Christoff",srcImg:a.p+"static/media/Elf.3169e275.png",life:57,strength:17,dexterity:16}],k=[{name:"Aleks\xe1ndra",srcImg:v,life:14,strength:18,dexterity:14},{name:"Aleks\xe1ndra",srcImg:v,life:23,strength:18,dexterity:14},{name:"Aleks\xe1ndra",srcImg:v,life:32,strength:18,dexterity:14},{name:"Aleks\xe1ndra",srcImg:v,life:45,strength:18,dexterity:14}],C=(a(22),{name:"poci\xf3n salud",number:2,srcImg:a.p+"static/media/heathPotion.c70a87db.png"});function A(e){var t=e.mockRoll20Enemy,a=e.mockRoll4Enemy,c=e.mockRoll20Player,s=e.mockRoll4Player,i=e.mockEnemy,l=e.mockPlayer,m=e.mockHealthPotion,d=Object(n.useState)("start-screen"),u=Object(r.a)(d,2),j=u[0],b=u[1],p=Object(n.useState)(1),h=Object(r.a)(p,2),x=h[0],g=h[1],f=Object(n.useState)(3),O=Object(r.a)(f,2),v=O[0],A=O[1];return"win-battle"===j?Object(o.jsxs)("main",{className:"mainApp mainAppWinB",children:[Object(o.jsx)("p",{className:"mainAppWinB__resultMsg",children:"Victoria!!"}),Object(o.jsxs)("p",{className:"mainAppWinB__text",children:["Has alcanzado el nivel"," ",Object(o.jsx)("span",{className:"mainAppWinB__level",children:x})]}),Object(o.jsx)("button",{onClick:function(){return b("battle")},className:"mainApp__button",children:"Continuar jugando"})]}):"lose"===j?Object(o.jsxs)("main",{className:"mainApp mainAppLose",children:[Object(o.jsx)("p",{className:"mainAppLose__resultMsg",children:"Has perdido \ud83d\ude22"}),Object(o.jsx)("button",{onClick:function(){return b("battle")},className:"mainApp__button mainAppLose__button",children:"Intentarlo de nuevo"})]}):"win-game"===j?Object(o.jsxs)("main",{className:"mainApp mainAppWinG",children:[Object(o.jsxs)("div",{className:"mainAppWinG__fireworks",children:[Object(o.jsx)("div",{className:"mainAppWinG__fireworks--before"}),Object(o.jsx)("div",{className:"mainAppWinG__fireworks--after"})]}),Object(o.jsx)("p",{className:"mainAppWinG__text",children:"Has completado el juego!!"}),Object(o.jsx)("button",{onClick:function(){return b("battle")},className:"mainApp__button mainAppWinG__button",children:"Volver a jugar"})]}):"battle"===j?Object(o.jsx)(_,{enemy:i?i[x-1]:N[x-1],player:l?l[x-1]:k[x-1],level:x,healthPotion:m||C,currentAmountPotions:v,setCurrentAmountPotions:A,onCombatFinish:function(e){"win"===e&&x<4?(b("win-battle"),g(x+1)):"win"===e&&4===x?(b("win-game"),g(1)):b("lose")},mockRoll20Enemy:t,mockRoll4Enemy:a,mockRoll20Player:c,mockRoll4Player:s}):Object(o.jsx)(y,{onClickStart:function(){return b("battle")}})}var I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(A,{})}),document.getElementById("root")),I()}],[[23,1,2]]]);
//# sourceMappingURL=main.554fb358.chunk.js.map